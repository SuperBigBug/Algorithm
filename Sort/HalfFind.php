<?php
/**
 * Created by PhpStorm.
 * User: zhongyu
 * Date: 2020/7/30
 * Time: 2:48 PM
 */

class HalfFind
{
    /**
     * @desc äºŒåˆ†æ³•æŸ¥æ‰¾ æ•ˆç‡è€é«˜äº† å‰æ: å¿…é¡»æ˜¯æœ‰åºçš„æ•°ç»„
     * @desc äºŒåˆ†æ³•æ—¶é—´å¤æ‚åº¦ä¸º O(log n)
     *
     * @param $nums
     * @param $val
     * @return float|int
     */
    function find($nums, $val)
    {
        if (count($nums) < 1) {
            return $nums;
        }

        $low = 0;
        $high = count($nums) - 1;

        // æ˜“é”™ç‚¹ä¸€: $low <= $high, è€Œä¸æ˜¯<
        while($low <= $high) {

            // æ˜“é”™ç‚¹äºŒ : ä¸­é—´ä½ç½®
            // è¿™ç§å†™æ³•è€Œä¸æ˜¯$key = ($low + $high) / 2 æ˜¯ä¸ºäº†é¿å…å½“low å’Œ highéƒ½å¾ˆå¤§çš„æ—¶å€™æ±‚å’Œå‘ç”Ÿæº¢å‡º
            // æ¯”è¿™ç§å†™æ³•æ•ˆç‡æ›´é«˜çš„å†™æ³•æ˜¯ : $key = ($low + ($high - $low) >> 1) Why? å› ä¸ºè®¡ç®—æœºè¿›è¡Œä½è¿ç®—æ¯”è¿›è¡Œé™¤æ³•è¿ç®—æ›´å¿«å“¦
            $key = floor($low + ($high - $low) / 2);

            if ($nums[$key] == $val) {
               return $key;
            }elseif ($nums[$key] < $val) {
                // æ˜“é”™ç‚¹ä¸‰: è¾¹ç•Œå€¼å˜æ›´æ˜¯ key + 1 æˆ–æ˜¯ key - 1
                // ğŸŒ° : å½“$low = $high = 3, but $nums[3] != $val, gg, æ­»å¾ªç¯äº†
                $low = $key + 1;
            }else{
                $high = $key - 1;
            }
        }
        return -1;
    }

    /** åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ•ˆç‡é«˜äºå¸¸æ•°çº§æ—¶é—´å¤æ‚åº¦, å¸¸æ•°çº§åˆ«æ—¶é—´å¤æ‚åº¦å¯ä»¥ä½¿O(10000) */
    /** äºŒåˆ†æ³•åœ¨pow(2, 32)æ¥è¿‘42äº¿ä¸ªæœ‰åºå…ƒç´ æ•°ç»„ä¸­è¿›è¡ŒæŸ¥æ‰¾, æœ€å¤šä¹Ÿåªè¿›è¡Œ32æ¬¡, ç‰›é€¼ç‰›é€¼ */
}